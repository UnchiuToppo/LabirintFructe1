<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V칙n캒torul de Fructe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: radial-gradient(circle at top left, #fdfbfb 0%, #ebedee 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
            overflow-x: hidden;
        }

        .fruit-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            aspect-ratio: 1/1;
            overflow: hidden;
        }

        .fruit-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .fruit-card:hover {
            transform: translateY(-5px) scale(1.05);
        }

        .fruit-card:hover img {
            transform: scale(1.1);
        }

        .fruit-card:active {
            transform: scale(0.95);
        }

        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        .fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .success-pulse {
            animation: pulse 0.5s ease-out;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
            70% { box-shadow: 0 0 0 20px rgba(34, 197, 94, 0); }
            100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }
    </style>
</head>
<body>

    <div id="game-container" class="w-full max-w-2xl px-4 py-8">
        <!-- Ecran de Start -->
        <div id="start-screen" class="bg-white rounded-3xl shadow-2xl p-8 text-center fade-in">
            <div class="mb-6 flex justify-center">
                <div class="w-24 h-24 bg-red-100 rounded-full flex items-center justify-center overflow-hidden">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Red_Apple.jpg/240px-Red_Apple.jpg" alt="[Image of Red Apple]" class="w-full h-full object-cover">
                </div>
            </div>
            <h1 class="text-4xl font-800 text-slate-800 mb-4">V칙n캒torul de Fructe</h1>
            <p class="text-slate-500 mb-8 text-lg">G캒se탳te cele 10 fructe cerute pentru a c칙탳tiga!</p>
            <button onclick="startGame()" class="w-full sm:w-auto px-12 py-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-2xl transition-all shadow-lg hover:shadow-orange-200">
                칉ncepe Jocul
            </button>
        </div>

        <!-- Jocul Principal -->
        <div id="game-board" class="hidden">
            <div class="bg-white rounded-3xl shadow-xl overflow-hidden mb-6">
                <!-- Header Info -->
                <div class="bg-slate-50 px-6 py-4 flex justify-between items-center border-b border-slate-100">
                    <div class="flex items-center space-x-2">
                        <span class="text-slate-400 font-semibold uppercase tracking-wider text-xs">Scor</span>
                        <div class="flex items-baseline space-x-1">
                            <span id="score-display" class="text-2xl font-bold text-orange-600">0</span>
                            <span class="text-slate-300 text-sm">/ 10</span>
                        </div>
                    </div>
                    <button onclick="resetGame()" class="text-xs font-bold text-slate-400 hover:text-slate-600 uppercase tracking-widest">Reseteaz캒</button>
                </div>

                <div class="p-8 text-center">
                    <p class="text-slate-400 font-semibold uppercase tracking-wider text-sm mb-4">Caut캒 acest fruct:</p>
                    <div id="target-display" class="mb-8 inline-block px-8 py-6 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 min-w-[200px]">
                        <!-- Numele fructului va fi injectat aici -->
                    </div>
                    
                    <div id="fruit-grid" class="grid grid-cols-2 sm:grid-cols-5 gap-4">
                        <!-- Op탵iunile cu imagini -->
                    </div>
                </div>
            </div>

            <div id="message-box" class="text-center py-3 px-6 rounded-xl font-semibold opacity-0 transition-opacity min-h-[3rem]">
                Bravo!
            </div>
        </div>

        <!-- Ecran de Victorie -->
        <div id="win-screen" class="hidden bg-white rounded-3xl shadow-2xl p-8 text-center fade-in border-4 border-green-50">
            <div class="text-6xl mb-4">游끥</div>
            <h2 class="text-3xl font-800 text-slate-800 mb-2">Felicit캒ri!</h2>
            <p class="text-slate-500 mb-6 text-lg">Ai g캒sit toate cele 10 fructe!</p>
            <div class="bg-green-50 rounded-2xl p-6 mb-8">
                <p class="text-green-700 font-bold tracking-widest">MISIUNE 칉NDEPLINIT캑</p>
            </div>
            <button onclick="startGame()" class="px-10 py-4 bg-slate-800 hover:bg-black text-white font-semibold rounded-2xl transition-all">
                Joac캒 din nou
            </button>
        </div>
    </div>

    <script>
        // --- LOGICA DE SUNET (Web Audio API) ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(freq, type, duration, volume = 0.1) {
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();

            oscillator.type = type;
            oscillator.frequency.setValueAtTime(freq, audioCtx.currentTime);
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            gainNode.gain.setValueAtTime(volume, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);

            oscillator.start();
            oscillator.stop(audioCtx.currentTime + duration);
        }

        const sounds = {
            start: () => {
                playSound(440, 'sine', 0.2);
                setTimeout(() => playSound(880, 'sine', 0.4), 100);
            },
            correct: () => {
                playSound(600, 'sine', 0.1, 0.1);
                setTimeout(() => playSound(1200, 'sine', 0.2, 0.1), 50);
            },
            wrong: () => {
                playSound(150, 'sawtooth', 0.3, 0.05);
            },
            win: () => {
                const notes = [523.25, 659.25, 783.99, 1046.50];
                notes.forEach((note, i) => {
                    setTimeout(() => playSound(note, 'sine', 0.5, 0.1), i * 150);
                });
            }
        };

        const FRUITS = [
            { id: 'apple', name: 'M캒r', url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Red_Apple.jpg/240px-Red_Apple.jpg' },
            { id: 'banana', name: 'Banan캒', url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Banana-Single.jpg/240px-Banana-Single.jpg' },
            { id: 'cherry', name: 'Cire탳e', url: 'https://upload.wikimedia.org/wikipedia/commons/b/bb/Cherry_Stella444.jpg' },
            { id: 'grape', name: 'Struguri', url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Table_grapes_on_white.jpg/240px-Table_grapes_on_white.jpg' },
            { id: 'orange', name: 'Portocal캒', url: 'https://upload.wikimedia.org/wikipedia/commons/c/c4/Orange-Fruit-Pieces.jpg' },
            { id: 'pear', name: 'Par캒', url: 'https://upload.wikimedia.org/wikipedia/commons/0/0b/D%27anjou_pear.jpg' },
            { id: 'strawberry', name: 'C캒p탳un캒', url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/PerfectStrawberry.jpg/240px-PerfectStrawberry.jpg' },
            { id: 'lemon', name: 'L캒m칙ie', url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Lemon.jpg/240px-Lemon.jpg' },
            { id: 'pineapple', name: 'Ananas', url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Pineapple_and_cross_section.jpg/240px-Pineapple_and_cross_section.jpg' },
            { id: 'kiwi', name: 'Kiwi', url: 'https://upload.wikimedia.org/wikipedia/commons/d/d3/Kiwi_aka.jpg' }
        ];

        let score = 0;
        let targetFruit = null;
        let isProcessing = false;

        const startScreen = document.getElementById('start-screen');
        const gameBoard = document.getElementById('game-board');
        const winScreen = document.getElementById('win-screen');
        const scoreDisplay = document.getElementById('score-display');
        const targetDisplay = document.getElementById('target-display');
        const fruitGrid = document.getElementById('fruit-grid');
        const messageBox = document.getElementById('message-box');

        function startGame() {
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
            sounds.start();
            score = 0;
            isProcessing = false;
            scoreDisplay.textContent = score;
            
            startScreen.classList.add('hidden');
            winScreen.classList.add('hidden');
            gameBoard.classList.remove('hidden');
            
            nextRound();
        }

        function resetGame() {
            if(confirm("Vrei s캒 resetezi jocul?")) {
                startGame();
            }
        }

        function nextRound() {
            if (score >= 10) {
                showWinScreen();
                return;
            }

            isProcessing = false;
            targetFruit = FRUITS[Math.floor(Math.random() * FRUITS.length)];
            
            targetDisplay.innerHTML = `
                <div class="flex flex-col items-center">
                    <span class="font-bold text-slate-800 text-4xl tracking-tight">${targetFruit.name}</span>
                </div>
            `;

            let options = [...FRUITS];
            options.sort(() => Math.random() - 0.5);

            fruitGrid.innerHTML = '';
            options.forEach((fruit) => {
                const button = document.createElement('button');
                button.className = "fruit-card bg-slate-50 border border-slate-100 rounded-2xl hover:bg-white hover:shadow-lg hover:border-orange-200 transition-all";
                button.innerHTML = `<img src="${fruit.url}" alt="" class="rounded-2xl">`;
                button.onclick = () => handleChoice(fruit, button);
                fruitGrid.appendChild(button);
            });
        }

        function handleChoice(selectedFruit, element) {
            if (isProcessing) return;

            if (selectedFruit.id === targetFruit.id) {
                isProcessing = true;
                score++;
                scoreDisplay.textContent = score;
                sounds.correct();
                
                element.classList.add('bg-green-50', 'border-green-200', 'success-pulse', 'z-10');
                showMessage("Bravo! Ai g캒sit fructul.", "text-green-600");
                
                setTimeout(() => {
                    nextRound();
                }, 600);
            } else {
                sounds.wrong();
                element.classList.add('shake', 'bg-red-50', 'border-red-200');
                showMessage("Mai caut캒!", "text-red-500");
                
                setTimeout(() => {
                    element.classList.remove('shake', 'bg-red-50', 'border-red-200');
                }, 500);
            }
        }

        function showWinScreen() {
            sounds.win();
            gameBoard.classList.add('hidden');
            winScreen.classList.remove('hidden');
        }

        function showMessage(text, colorClass) {
            messageBox.textContent = text;
            messageBox.className = `text-center py-3 px-6 rounded-xl font-semibold transition-opacity opacity-100 ${colorClass}`;
            
            setTimeout(() => {
                messageBox.classList.add('opacity-0');
            }, 1200);
        }
    </script>
</body>
</html>